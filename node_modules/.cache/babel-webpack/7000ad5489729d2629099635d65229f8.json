{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { DeactivateModalPage } from '../deactivate-modal/deactivate-modal.page';\nimport Swal from 'sweetalert2';\nimport { ChangePasswordModalPage } from '../change-password-modal/change-password-modal.page';\nimport { OldPassEntryPage } from '../old-pass-entry/old-pass-entry.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"../services/data.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../services/user.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\n\nfunction HomePage_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵelementStart(1, \"ion-card\", 16);\n    i0.ɵɵelementStart(2, \"ion-list\");\n    i0.ɵɵelementStart(3, \"ion-item\", 17);\n    i0.ɵɵelementStart(4, \"h3\");\n    i0.ɵɵtext(5, \"Personal Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"ion-icon\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-item\");\n    i0.ɵɵelementStart(8, \"ion-label\");\n    i0.ɵɵtext(9, \"Username\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ion-chip\", 19);\n    i0.ɵɵelementStart(11, \"ion-label\", 20);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"ion-item\");\n    i0.ɵɵelementStart(14, \"ion-label\");\n    i0.ɵɵtext(15, \"Birth Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ion-chip\", 19);\n    i0.ɵɵelementStart(17, \"ion-label\", 21);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"ion-item\");\n    i0.ɵɵelementStart(20, \"ion-label\");\n    i0.ɵɵtext(21, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"ion-chip\", 19);\n    i0.ɵɵelementStart(23, \"ion-label\", 22);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵtextInterpolate(ctx_r0.username);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.birthdate);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.email);\n  }\n}\n\nfunction HomePage_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelementStart(1, \"ion-card\", 24);\n    i0.ɵɵelementStart(2, \"ion-list\");\n    i0.ɵɵelementStart(3, \"ion-item\", 17);\n    i0.ɵɵelementStart(4, \"h3\");\n    i0.ɵɵtext(5, \"Account Settings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"ion-icon\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-item\");\n    i0.ɵɵelementStart(8, \"ion-label\", 26);\n    i0.ɵɵtext(9, \"Username\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ion-input\", 27);\n    i0.ɵɵlistener(\"ngModelChange\", function HomePage_div_21_Template_ion_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.username = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"ion-item\");\n    i0.ɵɵelementStart(12, \"ion-label\", 26);\n    i0.ɵɵtext(13, \"Email Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"ion-input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function HomePage_div_21_Template_ion_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.email = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"ion-item\");\n    i0.ɵɵelementStart(16, \"ion-label\", 26);\n    i0.ɵɵtext(17, \"MM/DD/YYYY\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"ion-datetime\", 29);\n    i0.ɵɵlistener(\"ngModelChange\", function HomePage_div_21_Template_ion_datetime_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.birthdate = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"ion-item\");\n    i0.ɵɵelementStart(20, \"a\", 30);\n    i0.ɵɵlistener(\"click\", function HomePage_div_21_Template_a_click_20_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.deactModal();\n    });\n    i0.ɵɵtext(21, \"Deactivate My Account\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"ion-item\");\n    i0.ɵɵelementStart(23, \"a\", 31);\n    i0.ɵɵlistener(\"click\", function HomePage_div_21_Template_a_click_23_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.verifyOldPassword();\n    });\n    i0.ɵɵtext(24, \"Change password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(25, \"br\");\n    i0.ɵɵelementStart(26, \"ion-button\", 32);\n    i0.ɵɵlistener(\"click\", function HomePage_div_21_Template_ion_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.updateinfo(ctx_r8.account_id, ctx_r8.username, ctx_r8.email, ctx_r8.birthdate);\n    });\n    i0.ɵɵelement(27, \"ion-icon\", 33);\n    i0.ɵɵtext(28, \"Save Changes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.username);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.birthdate);\n  }\n}\n\nexport let HomePage = /*#__PURE__*/(() => {\n  class HomePage {\n    constructor(alertController, dataService, mdController, router, userService, toastController) {\n      this.alertController = alertController;\n      this.dataService = dataService;\n      this.mdController = mdController;\n      this.router = router;\n      this.userService = userService;\n      this.toastController = toastController;\n      this.selectTabs = 'personal';\n    }\n\n    ionViewDidEnter() {\n      this.userObj = this.userService.getUser();\n      this.account_id = this.userObj.userId;\n      this.fullname = this.userObj.userFullname;\n      this.username = this.userObj.userUsername;\n      this.email = this.userObj.userEmail;\n      this.birthdate = this.userObj.userBirthdate;\n      this.account_password = this.userObj.userPassword;\n      console.log(this.userObj);\n    }\n\n    presentToast(message) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const toast = yield this.toastController.create({\n          message,\n          duration: 2000\n        });\n        toast.present();\n      });\n    }\n\n    updateinfo(account_id, username, email, birthdate) {\n      this.dataService.request('updateaccount', {\n        account_id,\n        username,\n        email,\n        birthdate\n      }).subscribe(res => {\n        if (res.data) {\n          Swal.fire({\n            position: 'center',\n            icon: 'success',\n            title: 'Update Success',\n            text: 'Information updated. Please re-login your account.',\n            showConfirmButton: true,\n            confirmButtonText: 'Login'\n          }).then(result => {\n            if (result.isConfirmed) {\n              this.userService.setLoggedOut();\n              this.userService.clearUser();\n              this.router.navigate(['/login']);\n            }\n          });\n        }\n      });\n    }\n\n    logout() {\n      Swal.fire({\n        title: 'Logging Out',\n        text: 'Hey! Do not leave lets do workout!',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        confirmButtonText: 'Sign out'\n      }).then(result => {\n        if (result.isConfirmed) {\n          this.userService.setLoggedOut();\n          this.userService.clearUser();\n          this.router.navigate(['/login']);\n        }\n      });\n    }\n\n    deactModal() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const modal = yield this.mdController.create({\n          component: DeactivateModalPage\n        });\n        return yield modal.present();\n      });\n    }\n\n    chpwModal() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const modal = yield this.mdController.create({\n          component: ChangePasswordModalPage\n        });\n        return yield modal.present();\n      });\n    }\n\n    verifyOldPassword() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const modal = yield this.mdController.create({\n          component: OldPassEntryPage\n        });\n        return yield modal.present();\n      });\n    }\n\n  }\n\n  HomePage.ɵfac = function HomePage_Factory(t) {\n    return new (t || HomePage)(i0.ɵɵdirectiveInject(i1.AlertController), i0.ɵɵdirectiveInject(i2.DataService), i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.UserService), i0.ɵɵdirectiveInject(i1.ToastController));\n  };\n\n  HomePage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomePage,\n    selectors: [[\"app-home\"]],\n    decls: 25,\n    vars: 5,\n    consts: [[3, \"fullscreen\"], [\"color\", \"primary\"], [1, \"ion-text-center\"], [1, \"profile-selection\"], [1, \"avatar\"], [\"src\", \"/assets/photos/profile.jpg\"], [1, \"personal-information\"], [3, \"ngModel\", \"ngModelChange\"], [\"value\", \"personal\"], [1, \"segment-label\"], [\"value\", \"settings\"], [\"class\", \"segment-content-personal\", 4, \"ngIf\"], [\"class\", \"segment-content\", 4, \"ngIf\"], [\"color\", \"danger\", \"mode\", \"ios\", \"expand\", \"block\", 3, \"click\"], [\"name\", \"log-out-outline\"], [1, \"segment-content-personal\"], [1, \"user-information\"], [1, \"list-title\"], [\"name\", \"person-circle-outline\", \"slot\", \"end\", 1, \"personal-icon\"], [\"color\", \"secondary\"], [1, \"user-usename\"], [1, \"user-date\"], [1, \"user-email\"], [1, \"segment-content\"], [1, \"account-settings\"], [\"name\", \"settings-outline\", \"slot\", \"end\", 1, \"settings-icon\"], [\"position\", \"floating\"], [\"inputmode\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"inputmode\", \"email\", 3, \"ngModel\", \"ngModelChange\"], [\"displayFormat\", \"MM/DD/YYYY\", \"min\", \"1994-03-14\", \"max\", \"2003-12-31\", \"placeholder\", \"Select Date\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [\"defaultHref\", \"/old-pass-entry\", 3, \"click\"], [\"mode\", \"ios\", \"color\", \"light\", \"expand\", \"block\", 3, \"click\"], [\"name\", \"checkmark-outline\", \"slot\", \"start\"]],\n    template: function HomePage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-content\", 0);\n        i0.ɵɵelementStart(1, \"ion-header\");\n        i0.ɵɵelementStart(2, \"ion-toolbar\", 1);\n        i0.ɵɵelementStart(3, \"ion-title\", 2);\n        i0.ɵɵtext(4, \"Profile\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"br\");\n        i0.ɵɵelementStart(6, \"div\", 3);\n        i0.ɵɵelementStart(7, \"ion-avatar\", 4);\n        i0.ɵɵelement(8, \"img\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"h4\", 2);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"br\");\n        i0.ɵɵelementStart(12, \"div\", 6);\n        i0.ɵɵelementStart(13, \"ion-segment\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function HomePage_Template_ion_segment_ngModelChange_13_listener($event) {\n          return ctx.selectTabs = $event;\n        });\n        i0.ɵɵelementStart(14, \"ion-segment-button\", 8);\n        i0.ɵɵelementStart(15, \"ion-label\", 9);\n        i0.ɵɵtext(16, \"Personal Information\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"ion-segment-button\", 10);\n        i0.ɵɵelementStart(18, \"ion-label\", 9);\n        i0.ɵɵtext(19, \"Account Settings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(20, HomePage_div_20_Template, 25, 3, \"div\", 11);\n        i0.ɵɵtemplate(21, HomePage_div_21_Template, 29, 3, \"div\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"ion-button\", 13);\n        i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_22_listener() {\n          return ctx.logout();\n        });\n        i0.ɵɵelement(23, \"ion-icon\", 14);\n        i0.ɵɵtext(24, \"\\u00A0Log Out\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"fullscreen\", true);\n        i0.ɵɵadvance(10);\n        i0.ɵɵtextInterpolate(ctx.fullname);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectTabs);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectTabs === \"personal\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectTabs === \"settings\");\n      }\n    },\n    directives: [i1.IonContent, i1.IonHeader, i1.IonToolbar, i1.IonTitle, i1.IonAvatar, i1.IonSegment, i1.SelectValueAccessor, i5.NgControlStatus, i5.NgModel, i1.IonSegmentButton, i1.IonLabel, i6.NgIf, i1.IonButton, i1.IonIcon, i1.IonCard, i1.IonList, i1.IonItem, i1.IonChip, i1.IonInput, i1.TextValueAccessor, i1.IonDatetime],\n    styles: [\".profile-section[_ngcontent-%COMP%]{justify-content:center;display:flex}ion-toolbar[_ngcontent-%COMP%]{--ion-font-family:\\\"barlow-font-lighter\\\"}.avatar[_ngcontent-%COMP%]{margin:auto;width:120px;height:120px}ion-button[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px;--background:#f36c6c}ion-label[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--ion-font-family:\\\"barlow-font-lighter\\\"}.segment-label[_ngcontent-%COMP%]{font-size:14px}ion-segment[_ngcontent-%COMP%]{--ion-font-family:\\\"barlow-font-regular\\\"!important}.personal-icon[_ngcontent-%COMP%], .settings-icon[_ngcontent-%COMP%]{font-size:35px}.deact-icon[_ngcontent-%COMP%]{font-size:24px;margin-top:20px}ion-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;color:#000}.list-title[_ngcontent-%COMP%]{--border-color:#fff}.current[_ngcontent-%COMP%]{float:left;margin-left:-18px}.current[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{float:left;justify-content:left;margin:0;padding:0}\"]\n  });\n  return HomePage;\n})();","map":null,"metadata":{},"sourceType":"module"}