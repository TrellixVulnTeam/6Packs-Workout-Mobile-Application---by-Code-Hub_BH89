{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport { TermsAndConditionsModalPage } from '../terms-and-conditions-modal/terms-and-conditions-modal.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../services/data.service\";\nimport * as i5 from \"@angular/common\";\n\nfunction SignupPage_div_10_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"small\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const error_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(error_r6.message);\n  }\n}\n\nfunction SignupPage_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, SignupPage_div_10_ng_container_1_Template, 3, 1, \"ng-container\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.signupForm.controls[\"fullname\"].errors == null ? null : ctx_r0.signupForm.controls[\"fullname\"].errors.required) && ctx_r0.signupForm.controls[\"fullname\"].touched);\n  }\n}\n\nfunction SignupPage_div_16_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"small\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const error_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(error_r9.message);\n  }\n}\n\nfunction SignupPage_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, SignupPage_div_16_ng_container_1_Template, 3, 1, \"ng-container\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const error_r9 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.username.hasError(error_r9.type) && (ctx_r1.username.dirty || ctx_r1.username.touched));\n  }\n}\n\nfunction SignupPage_div_22_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"small\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const error_r12 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(error_r12.message);\n  }\n}\n\nfunction SignupPage_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, SignupPage_div_22_ng_container_1_Template, 3, 1, \"ng-container\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const error_r12 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.email.hasError(error_r12.type) && (ctx_r2.email.dirty || ctx_r2.email.touched));\n  }\n}\n\nfunction SignupPage_div_28_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"small\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const error_r15 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(error_r15.message);\n  }\n}\n\nfunction SignupPage_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, SignupPage_div_28_ng_container_1_Template, 3, 1, \"ng-container\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const error_r15 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.birthdate.hasError(error_r15.type) && (ctx_r3.birthdate.dirty || ctx_r3.birthdate.touched));\n  }\n}\n\nfunction SignupPage_div_34_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"small\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const error_r18 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(error_r18.message);\n  }\n}\n\nfunction SignupPage_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, SignupPage_div_34_ng_container_1_Template, 3, 1, \"ng-container\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r4.signupForm.controls[\"account_password\"].errors == null ? null : ctx_r4.signupForm.controls[\"account_password\"].errors.required) && ctx_r4.signupForm.controls[\"account_password\"].touched);\n  }\n}\n\nfunction SignupPage_div_40_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"small\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const error_r21 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(error_r21.message);\n  }\n}\n\nfunction SignupPage_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, SignupPage_div_40_ng_container_1_Template, 3, 1, \"ng-container\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r5.signupForm.controls[\"account_password_confirmation\"].errors == null ? null : ctx_r5.signupForm.controls[\"account_password_confirmation\"].errors.required) && ctx_r5.signupForm.controls[\"account_password_confirmation\"].touched);\n  }\n}\n\nconst _c0 = function () {\n  return [\"/login\"];\n};\n\nexport let SignupPage = /*#__PURE__*/(() => {\n  class SignupPage {\n    constructor(fb, mdController, router, dataService) {\n      this.fb = fb;\n      this.mdController = mdController;\n      this.router = router;\n      this.dataService = dataService;\n      this.errormsgs = {\n        fullname: [{\n          type: 'required',\n          message: 'Full Name is required.'\n        }, {\n          type: 'minlength',\n          message: 'Name must be 5 characters and above.'\n        }],\n        username: [{\n          type: 'required',\n          message: 'Username is required.'\n        }, {\n          type: 'minlength',\n          message: 'Username must be 5 characters and above.'\n        }],\n        email: [{\n          type: 'required',\n          message: 'Email Address is required.'\n        }, {\n          type: 'pattern',\n          message: 'Enter valid Email Address.'\n        }],\n        birthdate: [{\n          type: 'required',\n          message: 'Birth date is required.'\n        }],\n        account_password: [{\n          type: 'required',\n          message: 'Enter your password.'\n        }, {\n          type: 'minlength',\n          message: 'Password must be 6 characters and above.'\n        }, {\n          type: 'pattern',\n          message: 'Must contains special characters and digits.'\n        }],\n        account_password_confirmation: [{\n          type: 'required',\n          message: 'Enter your password.'\n        }, {\n          type: 'MustMatch',\n          message: 'Password does not match.'\n        }, {\n          type: 'pattern',\n          message: 'Must contains special characters and digits.'\n        }],\n        TermsAndConditions: [{\n          type: 'required',\n          message: 'You must agree to Terms and Conditions'\n        }]\n      }; // eslint-disable-next-line @typescript-eslint/member-ordering\n\n      this.submitted = false;\n    }\n\n    get fullname() {\n      return this.signupForm.get('fullname');\n    }\n\n    get username() {\n      return this.signupForm.get('username');\n    }\n\n    get email() {\n      return this.signupForm.get('email');\n    }\n\n    get birthdate() {\n      return this.signupForm.get('birthdate');\n    }\n\n    get account_password() {\n      return this.signupForm.get('password');\n    }\n\n    ngOnInit() {\n      this.signupForm = this.fb.group({\n        fullname: ['', [Validators.required, Validators.minLength(5)]],\n        username: ['', [Validators.required, Validators.minLength(5)]],\n        email: ['', [Validators.required, Validators.pattern('^[a-zA-Z0-9._%-]+@[a-zA-Z0-9-]+.[a-zA-Z]{2,4}$')]],\n        birthdate: ['', [Validators.required]],\n        account_password: ['', [Validators.required, Validators.minLength(6), Validators.pattern('^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$')]],\n        account_password_confirmation: ['', [Validators.required, Validators.pattern('^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$')]],\n        TermsAndConditions: [false, [Validators.required, Validators.requiredTrue]]\n      }, {\n        validators: this.MustMatch('account_password', 'account_password_confirmation')\n      });\n    }\n\n    get f() {\n      return this.signupForm.controls;\n    }\n\n    MustMatch(controlName, matchingControlName) {\n      return formGroup => {\n        const control = formGroup.controls[controlName];\n        const matchingControl = formGroup.controls[matchingControlName];\n\n        if (matchingControl.errors && !matchingControl.errors.mustMatch) {\n          return;\n        }\n\n        if (control.value !== matchingControl.value) {\n          matchingControl.setErrors({\n            mustMatch: true\n          });\n        } else {\n          matchingControl.setErrors(null);\n        }\n      };\n    }\n\n    termsConditionsModal() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const modal = yield this.mdController.create({\n          component: TermsAndConditionsModalPage\n        });\n        return yield modal.present();\n      });\n    }\n\n    onSubmit($event) {\n      if (this.signupForm.valid) {\n        this.dataService.request('register', this.signupForm.value).subscribe(res => {\n          if (res.data) {\n            Swal.fire({\n              icon: 'success',\n              title: 'Welcome to 6Packs! ',\n              showCancelButton: true,\n              showConfirmButton: true,\n              confirmButtonText: 'Login now',\n              cancelButtonText: 'Close'\n            }).then(result => {\n              if (result.isConfirmed) {\n                // console.log(this.registerForm.value);\n                this.signupForm.reset();\n                this.router.navigate(['/login']);\n              }\n\n              if (result.isDismissed) {\n                this.signupForm.reset();\n              }\n            });\n          } else if (res.error) {\n            Swal.fire({\n              icon: 'error',\n              title: 'Registration Failed',\n              text: 'Username or email is already used. Please try different username or email.',\n              showConfirmButton: true,\n              confirmButtonText: 'Close'\n            }).then(result => {\n              if (result.isConfirmed) {\n                // console.log(this.registerForm.value);\n                this.signupForm.reset();\n              }\n            });\n          }\n        });\n      }\n    }\n\n  }\n\n  SignupPage.ɵfac = function SignupPage_Factory(t) {\n    return new (t || SignupPage)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ModalController), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.DataService));\n  };\n\n  SignupPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SignupPage,\n    selectors: [[\"app-signup\"]],\n    decls: 57,\n    vars: 10,\n    consts: [[1, \"ion-text-center\", \"create\"], [\"ngNativeValidate\", \"\", 3, \"formGroup\", \"submit\"], [\"position\", \"floating\"], [\"type\", \"text\", \"formControlName\", \"fullname\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"formControlName\", \"username\"], [\"type\", \"email\", \"formControlName\", \"email\"], [\"displayFormat\", \"MM/DD/YYYY\", \"min\", \"1994-03-14\", \"max\", \"2003-12-31\", \"formControlName\", \"birthdate\"], [\"type\", \"password\", \"formControlName\", \"account_password\"], [\"type\", \"password\", \"formControlName\", \"account_password_confirmation\"], [\"formControlName\", \"TermsAndConditions\"], [3, \"click\"], [\"type\", \"submit\", \"expand\", \"block\", \"mode\", \"ios\"], [1, \"login-link\"], [3, \"routerLink\"], [4, \"ngIf\"], [1, \"error-message\"]],\n    template: function SignupPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-app\");\n        i0.ɵɵelementStart(1, \"ion-content\");\n        i0.ɵɵelementStart(2, \"p\", 0);\n        i0.ɵɵtext(3, \"Create Account\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"form\", 1);\n        i0.ɵɵlistener(\"submit\", function SignupPage_Template_form_submit_4_listener($event) {\n          return ctx.onSubmit($event);\n        });\n        i0.ɵɵelementStart(5, \"ion-list\");\n        i0.ɵɵelementStart(6, \"ion-item\");\n        i0.ɵɵelementStart(7, \"ion-label\", 2);\n        i0.ɵɵtext(8, \"Full Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"ion-input\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, SignupPage_div_10_Template, 2, 1, \"div\", 4);\n        i0.ɵɵelement(11, \"br\");\n        i0.ɵɵelementStart(12, \"ion-item\");\n        i0.ɵɵelementStart(13, \"ion-label\", 2);\n        i0.ɵɵtext(14, \"Username\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"ion-input\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, SignupPage_div_16_Template, 2, 1, \"div\", 4);\n        i0.ɵɵelement(17, \"br\");\n        i0.ɵɵelementStart(18, \"ion-item\");\n        i0.ɵɵelementStart(19, \"ion-label\", 2);\n        i0.ɵɵtext(20, \"Email Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"ion-input\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(22, SignupPage_div_22_Template, 2, 1, \"div\", 4);\n        i0.ɵɵelement(23, \"br\");\n        i0.ɵɵelementStart(24, \"ion-item\");\n        i0.ɵɵelementStart(25, \"ion-label\", 2);\n        i0.ɵɵtext(26, \"MM/DD/YYYY\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"ion-datetime\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(28, SignupPage_div_28_Template, 2, 1, \"div\", 4);\n        i0.ɵɵelement(29, \"br\");\n        i0.ɵɵelementStart(30, \"ion-item\");\n        i0.ɵɵelementStart(31, \"ion-label\", 2);\n        i0.ɵɵtext(32, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(33, \"ion-input\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(34, SignupPage_div_34_Template, 2, 1, \"div\", 4);\n        i0.ɵɵelement(35, \"br\");\n        i0.ɵɵelementStart(36, \"ion-item\");\n        i0.ɵɵelementStart(37, \"ion-label\", 2);\n        i0.ɵɵtext(38, \"Confirm Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(39, \"ion-input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(40, SignupPage_div_40_Template, 2, 1, \"div\", 4);\n        i0.ɵɵelement(41, \"br\");\n        i0.ɵɵelement(42, \"ion-checkbox\", 10);\n        i0.ɵɵtext(43, \"\\u00A0 \");\n        i0.ɵɵelementStart(44, \"ion-label\");\n        i0.ɵɵtext(45, \"Agree to \");\n        i0.ɵɵelementStart(46, \"a\", 11);\n        i0.ɵɵlistener(\"click\", function SignupPage_Template_a_click_46_listener() {\n          return ctx.termsConditionsModal();\n        });\n        i0.ɵɵtext(47, \"Terms and Conditions.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(48, \"br\");\n        i0.ɵɵelement(49, \"br\");\n        i0.ɵɵelementStart(50, \"ion-button\", 12);\n        i0.ɵɵtext(51, \"Sign up\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(52, \"br\");\n        i0.ɵɵelementStart(53, \"ion-label\", 13);\n        i0.ɵɵtext(54, \"Already have an account? \");\n        i0.ɵɵelementStart(55, \"a\", 14);\n        i0.ɵɵtext(56, \"Login here.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.signupForm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.errormsgs.fullname);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.errormsgs.username);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.errormsgs.email);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.errormsgs.birthdate);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.errormsgs.account_password);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.errormsgs.account_password_confirmation);\n        i0.ɵɵadvance(10);\n        i0.ɵɵattribute(\"disabled\", !ctx.signupForm.valid);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c0));\n      }\n    },\n    directives: [i2.IonApp, i2.IonContent, i1.NgControlStatusGroup, i1.FormGroupDirective, i2.IonList, i2.IonItem, i2.IonLabel, i2.IonInput, i2.TextValueAccessor, i1.NgControlStatus, i1.FormControlName, i5.NgForOf, i2.IonDatetime, i2.SelectValueAccessor, i2.IonCheckbox, i2.BooleanValueAccessor, i2.IonButton, i3.RouterLinkWithHref, i2.RouterLinkDelegate, i5.NgIf],\n    styles: [\"ion-content[_ngcontent-%COMP%]{--ion-background-color:#f8f8f8}.create[_ngcontent-%COMP%]{font-size:24px;padding-top:5px;--ion-font-family:\\\"barlow-font-regular\\\"}.checkbox[_ngcontent-%COMP%]{margin-top:12px;background-color:red}.error-message[_ngcontent-%COMP%]{color:var(--ion-color-danger);margin-left:5px;font-size:14px;text-align:left}ion-label[_ngcontent-%COMP%]{font-size:14px}ion-input[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]{color:#696868!important}ion-input[_ngcontent-%COMP%]{font-size:16px}ion-list[_ngcontent-%COMP%]{background-color:#f8f8f8;width:250px;height:100%}ion-item[_ngcontent-%COMP%]{--background:#ececec;border-radius:5px}form[_ngcontent-%COMP%]{--ion-font-family:\\\"barlow-font-lighter\\\";justify-content:center;align-items:center;display:flex}ion-button[_ngcontent-%COMP%]{font-size:18px;--background:#f6bc77}.login-link[_ngcontent-%COMP%]{font-size:15px;text-align:center;position:relative}a[_ngcontent-%COMP%]{color:#f6bc77;text-decoration:none}\"]\n  });\n  return SignupPage;\n})();","map":null,"metadata":{},"sourceType":"module"}